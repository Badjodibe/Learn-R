---
title: "gestion de na"
format: pdf
editor: visual
---

```{r}
data(airquality)
head(airquality)
```

### Repérer les NA

```{r}
is.na(airquality)
airquality[!complete.cases(airquality), ]
```

### Compter les NA

```{r}
sum(is.na(airquality))
colSums(is.na(airquality))
```

### Supprimer les lignes avec NA

```{r}
airquality_clean <- na.omit(airquality)
```

### Remplacer les NA par la moyenne

```{r}
airquality$Ozone[is.na(airquality$Ozone)] <- mean(airquality$Ozone, na.rm = TRUE)
```

## **Gérer les `NA`**

+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
| **Type d'action**   | **Fonction**                          | **Description**                                    | **Exemple d'utilisation**                                |
+=====================+=======================================+====================================================+==========================================================+
| 🔍 **Détection**    | `is.na(x)`                            | Vérifie si des valeurs sont `NA`                   | `is.na(c(1, NA, 3))`                                     |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
|                     | `anyNA(x)`                            | Vérifie s'il existe au moins un `NA`               | `anyNA(df)`                                              |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
| 📤 **Suppression**  | `na.omit(x)`                          | Supprime les lignes contenant des `NA`             | `na.omit(df)`                                            |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
|                     | `complete.cases(x)`                   | Renvoie `TRUE` pour les lignes sans `NA`           | `df[complete.cases(df), ]`                               |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
| 🔁 **Remplacement** | `x[is.na(x)] <- value`                | Remplace manuellement les `NA` par une valeur      | `x[is.na(x)] <- 0`                                       |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
|                     | `replace(x, is.na(x), v)`             | Remplace `NA` par `v` dans un vecteur              | `replace(x, is.na(x), 0)`                                |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
|                     | `replace_na()` (`tidyr`)              | Remplace les `NA` dans un `tibble` ou `data.frame` | `replace_na(df, list(age = 0, note = 100))`              |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
|                     | `mutate(across(...))`                 | Remplace plusieurs colonnes via `dplyr`            | `df %>% mutate(across(everything(), ~replace_na(., 0)))` |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
| 🙈 **Ignorer**      | `na.rm = TRUE` (dans fonctions stats) | Ignore les `NA` dans les calculs                   | `mean(x, na.rm = TRUE)`\                                 |
|                     |                                       |                                                    | `sum(x, na.rm = TRUE)`                                   |
+---------------------+---------------------------------------+----------------------------------------------------+----------------------------------------------------------+
